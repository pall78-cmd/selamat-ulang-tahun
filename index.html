<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Arsip Rahasia Aristia Firlin</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=Special+Elite&family=Great+Vibes&family=UnifrakturMaguntia&display=swap');

:root{
  --paper:#e8e2d2;
  --folder:#4e342e;
  --ink:#2b2b2b;
  --wax:#8b0000;
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}

body{
  margin:0;
  width:100vw;
  height:100vh;
  overflow:hidden;
  background:#0a0a0a;
  font-family:'Playfair Display',serif;
  color:var(--ink);
}

#dark-overlay{
  position:fixed;
  inset:0;
  background:#000;
  opacity:0;
  pointer-events:none;
  transition:opacity .6s ease;
  z-index:80;
}

/* ===== GATE ===== */
#gate{
  position:fixed;
  inset:0;
  z-index:999;
  display:flex;
  flex-direction:column;
  background:#000;
}
.gate-half{
  flex:1;
  background:var(--paper) url('https://www.transparenttextures.com/patterns/paper-fibers.png');
  display:flex;
  align-items:center;
  justify-content:center;
  transition:transform 1s cubic-bezier(.4,0,.2,1);
  position:relative;
}
.gate-open .top{transform:translateY(-100%)}
.gate-open .bottom{transform:translateY(100%)}

#seal{
  position:absolute;
  inset:0;
  margin:auto;
  width:75px;
  height:75px;
  border-radius:50%;
  background:var(--wax);
  color:#ffd700;
  font-family:'Cinzel';
  font-size:2.2rem;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  z-index:1000;
  box-shadow: 0 5px 20px rgba(0,0,0,0.6);
  transition: transform 0.2s;
}
#seal:active { transform: scale(0.9); }

#auth{
  position:absolute;
  top:62%;
  left:50%;
  transform:translateX(-50%);
  display:none;
  z-index:1001;
  width:260px;
  text-align: center;
}

/* ===== MAIN ===== */
#main{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:opacity .8s ease;
  padding: 10px;
}
.ready #main{
  opacity:1;
  pointer-events:auto;
}

.folder{
  width:100%;
  max-width:420px;
  height:85vh;
  background:var(--paper) url('https://www.transparenttextures.com/patterns/paper-fibers.png');
  border-left:12px solid var(--folder);
  box-shadow:0 30px 60px rgba(0,0,0,0.7);
  display:flex;
  flex-direction:column;
  overflow:hidden;
  position: relative;
}

.slides{
  flex:1;
  position:relative;
  overflow:hidden;
}

.slide{
  position:absolute;
  inset:0;
  padding:25px;
  opacity:0;
  pointer-events:none;
  transform: translateX(10px);
  transition: opacity .4s ease, transform .4s ease;
  display: flex;
  flex-direction: column;
}
.slide.active{
  opacity:1;
  pointer-events:auto;
  transform: translateX(0);
}

/* ===== COMPONENTS ===== */
.news-box{
  height:100%;
  background:#f4f1e6;
  border:1px solid #333;
  display:flex;
  flex-direction:column;
  box-shadow: inset 0 0 30px rgba(0,0,0,0.05);
}
.news-header{
  text-align:center;
  border-bottom:2px solid #333;
  padding:15px 10px;
}
.news-title{
  font-family:'UnifrakturMaguntia';
  font-size:2.4rem;
  line-height: 1;
}
.news-scroll{
  flex:1;
  overflow-y:auto;
  padding:15px;
}
.news-text { font-size: 0.85rem; line-height: 1.6; text-align: justify; margin-bottom: 15px; }
.dropcap::first-letter{
  float:left;
  font-size:3.8rem;
  margin-right:10px;
  font-family:'UnifrakturMaguntia';
  color:var(--wax);
  line-height: 0.7;
}

/* SLIDE 2 ENHANCED TYPOGRAPHY */
.dossier-card {
  border: 1px solid rgba(0,0,0,0.2);
  padding: 20px;
  background: rgba(255,255,255,0.3);
  font-family: 'Special Elite';
  position: relative;
  box-shadow: 5px 5px 0 rgba(0,0,0,0.05);
}
.dossier-label {
  font-size: 0.6rem;
  color: #777;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 2px;
}
.dossier-value {
  font-size: 0.9rem;
  border-bottom: 1px solid #ccc;
  margin-bottom: 15px;
  padding-bottom: 2px;
}
.confidential-stamp {
  position: absolute;
  top: 10px;
  right: 10px;
  border: 2px solid var(--wax);
  color: var(--wax);
  padding: 2px 5px;
  font-size: 0.5rem;
  transform: rotate(15deg);
  font-weight: bold;
}

.cal-box {
  background: white;
  padding: 15px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  margin: auto 0;
}

/* ===== ENVELOPE ===== */
.env-area{
  margin:auto;
  width:200px;
  height:130px;
  position:relative;
  z-index:60;
  perspective: 1000px;
}
.env-base{
  width:100%;
  height:100%;
  background:#c5bba2;
  position:relative;
  cursor:pointer;
}
.env-flap{
  position:absolute;
  top:0;
  width:0;height:0;
  border-left:100px solid transparent;
  border-right:100px solid transparent;
  border-top:70px solid #a39981;
  transform-origin:top;
  transition: transform .6s cubic-bezier(0.4, 0, 0.2, 1);
  z-index: 3;
}
.open .env-flap{transform:rotateX(180deg); z-index: 1;}

.letter{
  position:absolute;
  inset:5%;
  background:#fff;
  padding:15px;
  opacity:0;
  transition: transform .6s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.4s;
  box-shadow: 0 10px 30px rgba(0,0,0,0.2);
  z-index: 2;
}
.open .letter{
  opacity:1;
  transform:translateY(-130px) scale(1.3);
  height: 280px;
}

/* ===== UI ELEMENTS ===== */
.nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px;
  background:rgba(0,0,0,0.08);
}
.btn{
  font-family:'Special Elite';
  font-size:.65rem;
  padding:8px 16px;
  background:#dcd4c1;
  border:1px solid #333;
  box-shadow:3px 3px 0 #3e2723;
  transition: 0.2s;
}
.btn:active { transform: translate(1px, 1px); box-shadow: 1px 1px 0 #3e2723; }
.btn:disabled{opacity:.2; box-shadow: none;}

.love-bit{
  position:fixed;
  top:-30px;
  pointer-events:none;
  animation:fall linear forwards;
  z-index: 2000;
}
@keyframes fall{
  to{transform:translateY(105vh) rotate(360deg);opacity:0}
}
</style>
</head>

<body>

<div id="dark-overlay"></div>

<div id="gate">
  <div class="gate-half top">
    <span class="opacity-30 tracking-[0.4em] text-xs pt-20">ARISTIA FIRLIN</span>
  </div>
  <div id="seal" onclick="showAuth()">N</div>
  <div id="auth">
    <input id="pinInput" maxlength="6" type="password" placeholder="KODE AKSES"
      class="w-full p-3 text-center border-2 border-amber-900 font-mono tracking-widest bg-white/90 outline-none">
    <button onclick="unlock()" class="w-full bg-red-900 text-white mt-2 p-3 text-[10px] font-bold tracking-[0.2em] uppercase">
      Dekripsi Arsip
    </button>
  </div>
  <div class="gate-half bottom">
    <span class="opacity-20 text-[9px] tracking-[0.5em] pb-20">LAPORAN DETEKTIF N</span>
  </div>
</div>

<div id="main">
<div class="folder" id="folder">
<div class="slides">

  <!-- Slide 1: News -->
  <div class="slide active">
    <div class="news-box">
      <div class="news-header">
        <div class="flex justify-between text-[8px] font-['Special_Elite'] opacity-60 mb-1">
          <span>EDISI #3003</span>
          <span>30 JANUARI 2026</span>
        </div>
        <h1 class="news-title">The Daily Ledger</h1>
      </div>
      <div class="news-scroll">
        <h2 class="text-center font-bold uppercase text-[10px] border-y border-black py-2 mb-4 tracking-tighter">Investigasi Intelijen: Pesona Aristia Firlin Capai Rekor Tertinggi!</h2>
        <p class="news-text dropcap">
          Investigasi rahasia yang dipimpin langsung oleh Agen N secara resmi merilis temuan paling mengejutkan tahun ini. Subjek yang dikenal sebagai Aristia Firlin ditemukan bertambah satu tingkat lebih mengagumkan tepat hari ini. 
        </p>
        <p class="news-text">
          Laporan intelijen menyebutkan adanya lonjakan deteksi aura positif yang tidak biasa. Seluruh saksi mata di lapangan melaporkan bahwa senyum subjek hari ini memiliki kekuatan untuk melumpuhkan detektor kebosanan di seluruh markas.
        </p>
        <p class="news-text italic text-center font-bold">"Dunia baru saja mendapatkan warna yang jauh lebih cerah,"</p>
        <div class="mt-4 border-t border-black/20 pt-2 text-center italic text-[0.6rem] opacity-50">
          Dicetak oleh Ledger Press Corp. Dilarang menggandakan tanpa izin hati.
        </div>
      </div>
    </div>
  </div>

  <!-- Slide 2: ENHANCED DOSSIER CARD -->
  <div class="slide justify-center">
    <div class="dossier-card">
      <div class="confidential-stamp">RAHASIA</div>
      <h3 class="text-[10px] font-bold border-b-2 border-black mb-4 pb-1">BERKAS IDENTIFIKASI SUBJEK</h3>
      
      <div class="dossier-label">Nama Subjek:</div>
      <div class="dossier-value">ARISTIA FIRLIN</div>
      
      <div class="dossier-label">Status Terkini:</div>
      <div class="dossier-value">BERTAMBAH USIA (MERAYAKAN)</div>
      
      <div class="dossier-label">Koordinat Visual (Terdekripsi):</div>
      <div class="py-1">
        <a href="https://www.instagram.com/reel/DQEbbnuEj95/?igsh=MXJ0ejJ5amxsZW1y"
           target="_blank" class="text-red-900 font-bold text-[10px] hover:underline decoration-dotted">
           [TAP_UNTUK_BUKA_VISUAL_30.01]
        </a>
      </div>
      
      <div class="dossier-label mt-4">Catatan Detektif:</div>
      <div class="text-[9px] italic leading-tight">"Subjek dilarang bersedih hari ini. Melanggar aturan akan dikenakan sanksi rindu tak berkesudahan."</div>
      
      <div class="flex justify-between items-center mt-6 pt-2 border-t border-black/10">
        <span class="text-[6px]">REF: N-3003-AF</span>
        <div class="w-12 h-4 bg-black/80"></div>
      </div>
    </div>
  </div>

  <!-- Slide 3: Quote -->
  <div class="slide justify-center text-center px-6">
    <p class="text-xl italic leading-relaxed">
      "Beberapa berkas ditulis untuk disimpan, tapi berkas tentangmu ditulis
      untuk dirayakan selamanya."
    </p>
    <div class="mt-12 text-right font-['Great_Vibes'] text-3xl text-red-900">â€” Detective N</div>
  </div>

  <!-- Slide 4: Calendar -->
  <div class="slide justify-center items-center">
    <div class="cal-box">
      <h4 class="text-center font-bold text-[10px] mb-4 tracking-widest border-b pb-1">JANUARI 2026</h4>
      <div id="calendar" class="grid grid-cols-7 gap-1 text-[10px] text-center font-mono">
        <!-- JS fill -->
      </div>
      <div class="mt-4 text-center">
        <span class="inline-block px-3 py-1 bg-red-900 text-white text-[8px] tracking-[0.3em] font-bold uppercase">Target: Hari Ini</span>
      </div>
    </div>
  </div>

  <!-- Slide 5: Envelope -->
  <div class="slide justify-center">
    <div class="env-area">
      <div class="env-base" id="envBox" onclick="handleEnvelope()">
        <div class="env-flap"></div>
        <div class="letter">
          <div id="letterContent" class="font-mono text-[10px] leading-tight text-gray-800"></div>
          <div id="signature" class="font-['Great_Vibes'] text-2xl text-red-900 mt-6 opacity-0 transition-opacity duration-1000">
            With Love, N
          </div>
        </div>
      </div>
    </div>
    <p class="text-center text-[9px] opacity-40 mt-12 uppercase tracking-widest">Sentuh Amplop untuk Membuka</p>
  </div>

</div>

<div class="nav">
  <button id="prevBtn" class="btn">KEMBALI</button>
  <div id="dots" class="flex gap-1.5"></div>
  <button id="nextBtn" class="btn">LANJUT</button>
</div>

</div>
</div>

<script>
let STATE = {
  curSlide: 0,
  isUnlocked: false,
  isTyping: false,
  envOpen: false,
  allowNav: true
};

const msg = `Dear Aristia,\n\nSetiap lembar arsip rahasia ini adalah saksi bisu betapa berharganya kamu dalam catatanku.\n\nSelamat hari lahir, semoga bahagia selalu memelukmu erat.\n\nAku akan selalu menjagamu.`;

// --- UI Logic ---
function showAuth() {
  document.getElementById('seal').style.display = 'none';
  document.getElementById('auth').style.display = 'block';
  document.getElementById('pinInput').focus();
}

function unlock() {
  const pin = document.getElementById('pinInput').value;
  // Kode akses diperbarui untuk 30 Januari 2026 (sesuai kalender di kode anda)
  if(pin === "033026" || pin === "300126") { 
    document.getElementById('gate').classList.add('gate-open');
    setTimeout(() => {
      document.getElementById('gate').remove();
      document.body.classList.add('ready');
      STATE.isUnlocked = true;
      initCalendar();
    }, 1000);
  } else {
    document.getElementById('pinInput').classList.add('border-red-500');
    setTimeout(() => document.getElementById('pinInput').classList.remove('border-red-500'), 500);
  }
}

function updateNav() {
  const slides = document.querySelectorAll('.slide');
  slides.forEach((s, i) => s.classList.toggle('active', i === STATE.curSlide));
  
  document.getElementById('prevBtn').disabled = STATE.curSlide === 0;
  document.getElementById('nextBtn').disabled = STATE.curSlide === slides.length - 1;

  const dots = document.getElementById('dots');
  dots.innerHTML = '';
  slides.forEach((_, i) => {
    const d = document.createElement('div');
    d.className = `w-1.5 h-1.5 rounded-full transition-all ${i === STATE.curSlide ? 'bg-red-900 scale-125' : 'bg-gray-400'}`;
    dots.appendChild(d);
  });
}

function move(d) {
  if(!STATE.allowNav) return;
  const slides = document.querySelectorAll('.slide');
  const next = STATE.curSlide + d;
  if(next >= 0 && next < slides.length) {
    STATE.curSlide = next;
    updateNav();
  }
}

document.getElementById('prevBtn').onclick = () => move(-1);
document.getElementById('nextBtn').onclick = () => move(1);

// --- Envelope & Typing ---
function handleEnvelope() {
  if(STATE.isTyping) return;
  const env = document.getElementById('envBox');
  const overlay = document.getElementById('dark-overlay');

  if(!STATE.envOpen) {
    STATE.envOpen = true;
    STATE.allowNav = false;
    env.classList.add('open');
    overlay.style.opacity = 0.6;
    overlay.style.pointerEvents = 'auto';
    startTyping();
  } else {
    env.classList.remove('open');
    overlay.style.opacity = 0;
    overlay.style.pointerEvents = 'none';
    STATE.envOpen = false;
    STATE.allowNav = true;
  }
}

function startTyping() {
  STATE.isTyping = true;
  let i = 0;
  const el = document.getElementById('letterContent');
  const sig = document.getElementById('signature');
  el.innerHTML = '';
  sig.style.opacity = 0;

  const timer = setInterval(() => {
    if(i < msg.length) {
      el.innerHTML += msg[i] === "\n" ? "<br>" : msg[i];
      i++;
    } else {
      clearInterval(timer);
      STATE.isTyping = false;
      sig.style.opacity = 1;
      spawnHearts();
    }
  }, 45);
}

function spawnHearts() {
  for(let i=0; i<15; i++) {
    setTimeout(() => {
      const h = document.createElement('div');
      h.className = 'love-bit';
      h.innerHTML = ['â¤ï¸', 'âœ¨', 'ðŸ’–'][Math.floor(Math.random()*3)];
      h.style.left = Math.random() * 100 + 'vw';
      h.style.fontSize = (15 + Math.random() * 10) + 'px';
      h.style.animationDuration = (3 + Math.random() * 2) + 's';
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 5000);
    }, i * 200);
  }
}

function initCalendar() {
  const cal = document.getElementById('calendar');
  if(cal.children.length > 0) return;
  for(let i=1; i<=31; i++) {
    const day = document.createElement('div');
    day.innerText = i;
    if(i === 30) {
      day.className = "bg-red-900 text-white rounded-full font-bold";
    }
    cal.appendChild(day);
  }
}

// --- Swipe Logic ---
let startX = 0;
document.getElementById('folder').addEventListener('touchstart', e => {
  if(!STATE.allowNav) return;
  startX = e.touches[0].clientX;
}, {passive:true});

document.getElementById('folder').addEventListener('touchend', e => {
  if(!STATE.allowNav) return;
  const deltaX = startX - e.changedTouches[0].clientX;
  if(Math.abs(deltaX) > 60) {
    move(deltaX > 0 ? 1 : -1);
  }
}, {passive:true});

// Prevent overlay interaction from breaking state
document.getElementById('dark-overlay').onclick = () => {
  if(STATE.envOpen && !STATE.isTyping) handleEnvelope();
};

updateNav();
</script>

</body>
</html>

